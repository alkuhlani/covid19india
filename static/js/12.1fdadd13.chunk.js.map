{"version":3,"sources":["hooks/useIsVisible.js","components/Tooltip.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/react-feather/dist/icons/twitter.js","../node_modules/react-feather/dist/icons/mail.js","components/Footer.js","../node_modules/react-feather/dist/icons/send.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-array/src/min.js","components/Level.js","components/MapSwitcher.js","../node_modules/react-use/esm/useClickAway.js","components/StateDropdown.js","components/StateHeader.js","../node_modules/react-use/esm/useIsomorphicLayoutEffect.js","../node_modules/react-use/esm/useMeasure.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-array/src/range.js","components/DeltaBarGraph.js","components/StateMetaCard.js","../node_modules/react-feather/dist/icons/compass.js","components/StateMeta.js","../node_modules/react-feather/dist/icons/smile.js","components/State.js"],"names":["OPTIONS","root","rootMargin","threshold","useIsVisible","elementRef","useState","isVisible","setIsVisible","useEffect","current","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","unobserve","observe","Tooltip","data","children","isTooltipVisible","setIsTooltipVisible","transitions","useTransition","from","TOOLTIP_FADE_OUT","enter","TOOLTIP_FADE_IN","leave","config","mass","tension","friction","handleClick","useCallback","e","stopPropagation","className","style","position","onMouseEnter","bind","onMouseLeave","onClick","map","item","key","props","div","dangerouslySetInnerHTML","__html","replace","slice","Array","prototype","x","translateX","translateY","y","number","scale","d","center","offset","Math","max","bandwidth","round","entering","this","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","k","transform","context","values","ticks","apply","domain","format","identity","spacing","range","range0","range1","length","copy","selection","path","selectAll","tick","order","tickExit","exit","tickEnter","append","attr","line","select","text","merge","insert","transition","isFinite","getAttribute","p","parentNode","remove","filter","each","_","arguments","call","tickSize","axisRight","axisBottom","_extends","Object","assign","target","i","source","hasOwnProperty","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Twitter","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","propTypes","PropTypes","string","oneOfType","displayName","Mail","points","memo","t","useTranslation","href","rel","Send","x1","y1","x2","y2","implicit","Symbol","ordinal","index","Map","unknown","get","set","push","value","has","initRange","min","valueof","undefined","LevelItem","statistic","total","delta","spring","useSpring","SPRING_CONFIG_NUMBERS","statisticConfig","STATISTIC_CONFIGS","Fragment","capitalize","h4","interpolate","formatNumber","verticalAlign","h1","trail","useMemo","styles","PRIMARY_STATISTICS","animationDelay","classnames","getStatistic","prevProps","currProps","equal","mapStatistic","setMapStatistic","useMeasure","mapSwitcher","clicked","setClicked","count","setCount","opacity","background","gentle","ReactDOM","unstable_batchedUpdates","delay","onStart","onRest","prevCount","defaultEvents","useClickAway","onClickAway","events","savedCallback","useRef","handler","event","el","contains","_i","events_1","eventName","on","document","events_2","off","StateDropdown","stateCode","showDropdown","setShowDropdown","dropdownRef","history","useHistory","zIndex","stateCodeItr","STATE_NAMES","MAP_META","sort","code1","code2","localeCompare","element","hyperlink","meta","formatDate","last_updated","h2","floor","tested","useIsomorphicLayoutEffect","window","useLayoutEffect","defaultState","top","left","bottom","right","isClient","ResizeObserver","_a","_b","rect","setRect","contentRect","top_1","disconnect","band","step","ordinalRange","r0","r1","paddingInner","paddingOuter","align","rescale","n","reverse","start","stop","sequence","rangeRound","padding","ceil","getDeltaStatistic","margin","timeseries","lookback","svgRef","wrapperRef","dates","date","getIndiaYesterdayISO","svg","chartRight","chartBottom","xScale","scaleBand","yScale","scaleLinear","xAxis","duration","D3_TRANSITION_DURATION","join","roundedBar","textSelection","val","prevVal","abs","preserveAspectRatio","forceRender","w","h","r","sign","StateMetaCard","title","formula","description","Compass","cx","cy","pastDates","lastDate","lastConfirmed","prevWeekDate","find","differenceInDays","parseIndiaDate","prevWeekConfirmed","diffDays","confirmedPerMillion","testPerMillion","totalConfirmedPerMillion","activePercent","recoveryPercent","deathPercent","growthRate","pow","population","formatLastUpdated","Smile","TimeseriesExplorer","lazy","MapExplorer","Minigraphs","useParams","toUpperCase","useSessionStorage","showAllDistricts","setShowAllDistricts","districtName","regionHighlighted","setRegionHighlighted","useSWR","API_ROOT_URL","fetcher","revalidateOnMount","refreshInterval","timeseriesResponseError","error","gridRowCount","gridColumnCount","innerWidth","districtCount","districts","stateMetaElement","isStateMetaVisible","once","Helmet","name","content","StateHeader","MapSwitcher","Level","fallback","minHeight","display","gridTemplateRows","a","b","districtNameA","districtNameB","districtA","districtB","handleSort","every","flexBasis","Footer"],"mappings":"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","file":"static/js/12.1fdadd13.chunk.js","sourcesContent":["import {useState, useEffect} from 'react';\r\n\r\nconst OPTIONS = {\r\n  root: null,\r\n  rootMargin: '0px 0px 0px 0px',\r\n  threshold: 0,\r\n};\r\n\r\nconst useIsVisible = (elementRef) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (elementRef.current) {\r\n      const observer = new IntersectionObserver((entries, observer) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            setIsVisible(true);\r\n            observer.unobserve(elementRef.current);\r\n          }\r\n        });\r\n      }, OPTIONS);\r\n      observer.observe(elementRef.current);\r\n    }\r\n  }, [elementRef]);\r\n\r\n  return isVisible;\r\n};\r\n\r\nexport default useIsVisible;\r\n","import {TOOLTIP_FADE_IN, TOOLTIP_FADE_OUT} from '../animations';\r\n\r\nimport React, {useCallback, useState} from 'react';\r\nimport {useTransition, animated} from 'react-spring';\r\n\r\nconst Tooltip = ({data, children}) => {\r\n  const [isTooltipVisible, setIsTooltipVisible] = useState(false);\r\n\r\n  const transitions = useTransition(isTooltipVisible, null, {\r\n    from: TOOLTIP_FADE_OUT,\r\n    enter: TOOLTIP_FADE_IN,\r\n    leave: TOOLTIP_FADE_OUT,\r\n    config: {\r\n      mass: 1,\r\n      tension: 210,\r\n      friction: 20,\r\n    },\r\n  });\r\n\r\n  const handleClick = useCallback((e) => e.stopPropagation(), []);\r\n\r\n  return (\r\n    <span\r\n      className=\"Tooltip\"\r\n      style={{position: 'relative'}}\r\n      onMouseEnter={setIsTooltipVisible.bind(this, true)}\r\n      onMouseLeave={setIsTooltipVisible.bind(this, false)}\r\n      onClick={handleClick.bind(this)}\r\n    >\r\n      {children}\r\n\r\n      {transitions.map(({item, key, props}) =>\r\n        item ? (\r\n          <animated.div key={key} style={props}>\r\n            <div className=\"message\">\r\n              <p\r\n                dangerouslySetInnerHTML={{\r\n                  __html: data.replace(/\\n/g, '<br/>'),\r\n                }}\r\n              ></p>\r\n            </div>\r\n          </animated.div>\r\n        ) : (\r\n          <animated.div key={key}></animated.div>\r\n        )\r\n      )}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Tooltip;\r\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Twitter = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z\"\n  }));\n});\nTwitter.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nTwitter.displayName = 'Twitter';\nexport default Twitter;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Mail = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"22,6 12,13 2,6\"\n  }));\n});\nMail.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nMail.displayName = 'Mail';\nexport default Mail;","import React from 'react';\r\nimport {Twitter, GitHub, Database, Mail, Send} from 'react-feather';\r\nimport {useTranslation} from 'react-i18next';\r\n\r\nfunction Footer() {\r\n  const {t} = useTranslation();\r\n\r\n  return (\r\n    <footer>\r\n      <div className=\"link\">\r\n        <a\r\n          href=\"https://github.com/covid19india\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          covid19yemen\r\n        </a>\r\n      </div>\r\n\r\n      <h5>{t('We stand with everyone fighting on the frontlines')}</h5>\r\n\r\n      <div className=\"links\">\r\n\r\n        <a\r\n          href=\"https://t.me/covid19indiaorg\"\r\n          className=\"telegram\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <Send />\r\n        </a>\r\n\r\n        <a\r\n          href=\"https://twitter.com/covid19indiaorg\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"twitter\"\r\n        >\r\n          <Twitter />\r\n        </a>\r\n\r\n        <a\r\n          href=\"mailto:hello@covid19india.org\"\r\n          className=\"mail\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <Mail />\r\n        </a>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default React.memo(Footer);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Send = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"22\",\n    y1: \"2\",\n    x2: \"11\",\n    y2: \"13\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"22 2 15 22 11 13 2 9 22 2\"\n  }));\n});\nSend.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nSend.displayName = 'Send';\nexport default Send;","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import {\r\n  PRIMARY_STATISTICS,\r\n  STATISTIC_CONFIGS,\r\n  SPRING_CONFIG_NUMBERS,\r\n} from '../constants';\r\nimport {capitalize, formatNumber, getStatistic} from '../utils/commonFunctions';\r\n\r\nimport {HeartFillIcon} from '@primer/octicons-v2-react';\r\nimport classnames from 'classnames';\r\nimport equal from 'fast-deep-equal';\r\nimport React, {useMemo} from 'react';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {animated, useSpring} from 'react-spring';\r\n\r\nfunction PureLevelItem({statistic, total, delta}) {\r\n  const {t} = useTranslation();\r\n  const spring = useSpring({\r\n    total: total,\r\n    delta: delta,\r\n    config: SPRING_CONFIG_NUMBERS,\r\n  });\r\n\r\n  const statisticConfig = STATISTIC_CONFIGS[statistic];\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h5>{t(capitalize(statisticConfig.displayName))}</h5>\r\n      <animated.h4>\r\n        {statistic !== 'active' ? (\r\n          delta > 0 ? (\r\n            spring.delta.interpolate(\r\n              (delta) =>\r\n                `+${formatNumber(delta, statisticConfig.format, statistic)}`\r\n            )\r\n          ) : (\r\n            <HeartFillIcon size={9} verticalAlign={2} />\r\n          )\r\n        ) : (\r\n          '\\u00A0'\r\n        )}\r\n      </animated.h4>\r\n      <animated.h1>\r\n        {spring.total.interpolate((total) =>\r\n          formatNumber(total, statisticConfig.format, statistic)\r\n        )}\r\n      </animated.h1>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst LevelItem = React.memo(PureLevelItem);\r\n\r\nfunction Level({data}) {\r\n  const trail = useMemo(() => {\r\n    const styles = [];\r\n\r\n    PRIMARY_STATISTICS.map((statistic, index) => {\r\n      styles.push({\r\n        animationDelay: `${750 + index * 250}ms`,\r\n      });\r\n      return null;\r\n    });\r\n    return styles;\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Level\">\r\n      {PRIMARY_STATISTICS.map((statistic, index) => (\r\n        <animated.div\r\n          key={index}\r\n          className={classnames('level-item', `is-${statistic}`, 'fadeInUp')}\r\n          style={trail[index]}\r\n        >\r\n          <LevelItem\r\n            {...{statistic}}\r\n            total={getStatistic(data, 'total', statistic)}\r\n            delta={getStatistic(data, 'delta', statistic)}\r\n          />\r\n        </animated.div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst isEqual = (prevProps, currProps) => {\r\n  if (\r\n    !equal(\r\n      getStatistic(prevProps.data, 'total', 'active'),\r\n      getStatistic(currProps.data, 'total', 'active')\r\n    )\r\n  ) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport default React.memo(Level, isEqual);\r\n","import {PRIMARY_STATISTICS, STATISTIC_CONFIGS} from '../constants';\r\n\r\nimport classnames from 'classnames';\r\nimport React, {useState, useCallback, useEffect} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {useSpring, animated, config} from 'react-spring';\r\nimport {useMeasure} from 'react-use';\r\n\r\nconst MapSwitcher = ({mapStatistic, setMapStatistic}) => {\r\n  const [mapSwitcher, {width}] = useMeasure();\r\n  const [clicked, setClicked] = useState(false);\r\n  const [count, setCount] = useState(0);\r\n  const [spring, set] = useSpring(() => ({\r\n    opacity: 0,\r\n    background: `${STATISTIC_CONFIGS[mapStatistic].color}20`,\r\n    transform: `translateX(${\r\n      width * PRIMARY_STATISTICS.indexOf(mapStatistic) * 0.25\r\n    }px)`,\r\n    config: config.gentle,\r\n  }));\r\n\r\n  useEffect(() => {\r\n    if (width > 0) {\r\n      ReactDOM.unstable_batchedUpdates(() => {\r\n        set({\r\n          transform: `translateX(${\r\n            width * PRIMARY_STATISTICS.indexOf(mapStatistic) * 0.25\r\n          }px)`,\r\n          opacity: 1,\r\n          background: `${STATISTIC_CONFIGS[mapStatistic].color}20`,\r\n          delay: count === 0 ? 1500 : 0,\r\n          onStart: setClicked.bind(this, true),\r\n          onRest: setClicked.bind(this, false),\r\n        });\r\n      });\r\n    }\r\n  }, [count, mapStatistic, set, width]);\r\n\r\n  const handleClick = useCallback(\r\n    (statistic) => {\r\n      setCount((prevCount) => prevCount + 1);\r\n      setMapStatistic(statistic);\r\n    },\r\n    [setMapStatistic]\r\n  );\r\n\r\n  return (\r\n    <div className=\"MapSwitcher\" ref={mapSwitcher}>\r\n      <animated.div className=\"highlight\" style={spring}></animated.div>\r\n\r\n      {PRIMARY_STATISTICS.map((statistic, index) => (\r\n        <div\r\n          key={index}\r\n          className={classnames('clickable', {[`is-${statistic}`]: !clicked})}\r\n          onClick={handleClick.bind(this, statistic)}\r\n        ></div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst isEqual = (prevProps, currProps) => {\r\n  if (prevProps.mapStatistic !== currProps.mapStatistic) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport default React.memo(MapSwitcher, isEqual);\r\n","import { useEffect, useRef } from 'react';\nimport { off, on } from './util';\nvar defaultEvents = ['mousedown', 'touchstart'];\nvar useClickAway = function (ref, onClickAway, events) {\n    if (events === void 0) { events = defaultEvents; }\n    var savedCallback = useRef(onClickAway);\n    useEffect(function () {\n        savedCallback.current = onClickAway;\n    }, [onClickAway]);\n    useEffect(function () {\n        var handler = function (event) {\n            var el = ref.current;\n            el && !el.contains(event.target) && savedCallback.current(event);\n        };\n        for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {\n            var eventName = events_1[_i];\n            on(document, eventName, handler);\n        }\n        return function () {\n            for (var _i = 0, events_2 = events; _i < events_2.length; _i++) {\n                var eventName = events_2[_i];\n                off(document, eventName, handler);\n            }\n        };\n    }, [events, ref]);\n};\nexport default useClickAway;\n","import {MAP_META, STATE_NAMES} from '../constants';\r\n\r\nimport React, {useState, useCallback, useRef} from 'react';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {useTransition, animated} from 'react-spring';\r\nimport {useClickAway} from 'react-use';\r\n\r\nconst StateDropdown = ({stateCode, trail}) => {\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const dropdownRef = useRef();\r\n  const history = useHistory();\r\n  const {t} = useTranslation();\r\n\r\n  useClickAway(dropdownRef, () => {\r\n    setShowDropdown(false);\r\n  });\r\n\r\n  const transitions = useTransition(showDropdown, null, {\r\n    from: {\r\n      opacity: 0,\r\n      transform: 'translate3d(0, 2px, 0)',\r\n      zIndex: 999,\r\n    },\r\n    enter: {\r\n      opacity: 1,\r\n      transform: 'translate3d(0, 0px, 0)',\r\n      zIndex: 999,\r\n    },\r\n    leave: {\r\n      opacity: 0,\r\n      transform: 'translate3d(0, 2px, 0)',\r\n      zIndex: 999,\r\n    },\r\n    config: {\r\n      mass: 1,\r\n      tension: 210,\r\n      friction: 20,\r\n    },\r\n  });\r\n\r\n  const handleClick = useCallback(\r\n    (stateCodeItr) => {\r\n      setShowDropdown(false);\r\n      history.push(`/state/${stateCodeItr}`);\r\n    },\r\n    [history]\r\n  );\r\n\r\n  return (\r\n    <div className=\"StateDropdown\" ref={dropdownRef}>\r\n      <animated.h1\r\n        className=\"state-name fadeInUp\"\r\n        style={trail}\r\n        onClick={setShowDropdown.bind(this, !showDropdown)}\r\n      >\r\n        {t(STATE_NAMES[stateCode])}\r\n      </animated.h1>\r\n\r\n      {transitions.map(({item, key, props}) =>\r\n        item ? (\r\n          <animated.div className=\"dropdown\" style={props} key={key}>\r\n            {Object.keys(MAP_META)\r\n              .filter(\r\n                (stateCodeItr) =>\r\n                  stateCodeItr !== 'TT' && stateCodeItr !== stateCode\r\n              )\r\n              .sort((code1, code2) =>\r\n                STATE_NAMES[code1].localeCompare(STATE_NAMES[code2])\r\n              )\r\n              .map((stateCodeItr) => (\r\n                <h1\r\n                  key={stateCodeItr}\r\n                  className=\"item\"\r\n                  onClick={handleClick.bind(this, stateCodeItr)}\r\n                >\r\n                  {t(STATE_NAMES[stateCodeItr])}\r\n                </h1>\r\n              ))}\r\n          </animated.div>\r\n        ) : (\r\n          <animated.div key={stateCode} style={props}></animated.div>\r\n        )\r\n      )}\r\n\r\n      {showDropdown && <div className=\"backdrop\"></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StateDropdown;\r\n","import StateDropdown from './StateDropdown';\r\n\r\nimport {SPRING_CONFIG_NUMBERS} from '../constants.js';\r\nimport {formatDate, formatNumber, getStatistic} from '../utils/commonFunctions';\r\n\r\nimport React, {useMemo} from 'react';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {animated, useSpring} from 'react-spring';\r\n\r\nfunction StateHeader({data, stateCode}) {\r\n  const {t} = useTranslation();\r\n\r\n  const trail = useMemo(() => {\r\n    const styles = [];\r\n\r\n    [0, 0, 0].map((element, index) => {\r\n      styles.push({\r\n        animationDelay: `${index * 250}ms`,\r\n      });\r\n      return null;\r\n    });\r\n\r\n    return styles;\r\n  }, []);\r\n\r\n  const spring = useSpring({\r\n    total: getStatistic(data, 'total', 'tested'),\r\n    config: SPRING_CONFIG_NUMBERS,\r\n  });\r\n\r\n  return (\r\n    <div className=\"StateHeader\">\r\n      <div className=\"header-left\">\r\n        <StateDropdown {...{stateCode}} hyperlink={false} trail={trail[0]} />\r\n        {data?.meta?.['last_updated'] && (\r\n          <h5 className=\"fadeInUp\" style={trail[1]}>\r\n            {`Last Updated on ${formatDate(\r\n              data.meta.last_updated,\r\n              'dd MMM, p'\r\n            )} IST`}\r\n          </h5>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"header-right fadeInUp\" style={trail[2]}>\r\n        <h5>{t('Tested')}</h5>\r\n        <animated.h2>\r\n          {spring.total.interpolate((total) => formatNumber(Math.floor(total)))}\r\n        </animated.h2>\r\n        {data?.meta?.tested?.['last_updated'] && (\r\n          <h5 className=\"timestamp\">\r\n            {`As of ${formatDate(data.meta.tested.last_updated, 'dd MMMM')}`}\r\n          </h5>\r\n        )}\r\n        {data?.meta?.tested?.source && (\r\n          <h5>\r\n            {'per '}\r\n            <a href={data.meta.tested.source} target=\"_noblank\">\r\n              source\r\n            </a>\r\n          </h5>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(StateHeader);\r\n","import { useEffect, useLayoutEffect } from 'react';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useState, useMemo } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isClient } from './util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nvar useMeasure = function () {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n};\nvar useMeasureMock = function () { return [function () { }, defaultState]; };\nexport default (isClient && !!window.ResizeObserver) ? useMeasure : useMeasureMock;\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {STATISTIC_CONFIGS, D3_TRANSITION_DURATION} from '../constants';\r\nimport {\r\n  formatDate,\r\n  formatNumber,\r\n  getIndiaYesterdayISO,\r\n  getStatistic,\r\n} from '../utils/commonFunctions';\r\n\r\nimport {min, max} from 'd3-array';\r\nimport {axisBottom} from 'd3-axis';\r\nimport {scaleBand, scaleLinear} from 'd3-scale';\r\nimport {select} from 'd3-selection';\r\n// eslint-disable-next-line\r\nimport {transition} from 'd3-transition';\r\nimport equal from 'fast-deep-equal';\r\nimport React, {useEffect, useRef} from 'react';\r\nimport {useMeasure} from 'react-use';\r\n\r\nconst getDeltaStatistic = (data, statistic) => {\r\n  return getStatistic(data, 'delta', statistic);\r\n};\r\n\r\nconst margin = {top: 50, right: 0, bottom: 50, left: 0};\r\n\r\nfunction DeltaBarGraph({timeseries, statistic, lookback}) {\r\n  const svgRef = useRef();\r\n  const [wrapperRef, {width, height}] = useMeasure();\r\n\r\n  const pastDates = Object.keys(timeseries || {}).filter(\r\n    (date) => date <= getIndiaYesterdayISO()\r\n  );\r\n  const dates = pastDates.slice(-lookback);\r\n\r\n  useEffect(() => {\r\n    if (!width) return;\r\n    const svg = select(svgRef.current);\r\n\r\n    const chartRight = width - margin.right;\r\n    const chartBottom = height - margin.bottom;\r\n    const r = 5;\r\n\r\n    // const formatTime = timeFormat('%e %b');\r\n    const xScale = scaleBand()\r\n      .domain(dates)\r\n      .range([margin.left, chartRight])\r\n      .paddingInner(width / 1000);\r\n\r\n    const yScale = scaleLinear()\r\n      .domain([\r\n        Math.min(\r\n          0,\r\n          min(dates, (date) => getDeltaStatistic(timeseries?.[date], statistic))\r\n        ),\r\n        Math.max(\r\n          1,\r\n          max(dates, (date) => getDeltaStatistic(timeseries?.[date], statistic))\r\n        ),\r\n      ])\r\n      .range([chartBottom, margin.top]);\r\n\r\n    const xAxis = axisBottom(xScale)\r\n      .tickSize(0)\r\n      .tickFormat((date) => formatDate(date, 'dd MMM'));\r\n\r\n    const t = svg.transition().duration(D3_TRANSITION_DURATION);\r\n\r\n    svg\r\n      .select('.x-axis')\r\n      .transition(t)\r\n      .style('transform', `translateY(${yScale(0)}px)`)\r\n      .call(xAxis)\r\n      .on('start', () => svg.select('.domain').remove())\r\n      .selectAll('text')\r\n      .attr('y', 0)\r\n      .attr('dy', (date, i) =>\r\n        getDeltaStatistic(timeseries?.[date], statistic) < 0 ? '-1em' : '1.5em'\r\n      )\r\n      .style('text-anchor', 'middle')\r\n      .attr('fill', STATISTIC_CONFIGS[statistic].color);\r\n\r\n    svg\r\n      .selectAll('.bar')\r\n      .data(dates)\r\n      .join((enter) =>\r\n        enter\r\n          .append('path')\r\n          .attr('class', 'bar')\r\n          .attr('d', (date) =>\r\n            roundedBar(xScale(date), yScale(0), xScale.bandwidth(), 0, r)\r\n          )\r\n      )\r\n      .transition(t)\r\n      .attr('d', (date) =>\r\n        roundedBar(\r\n          xScale(date),\r\n          yScale(0),\r\n          xScale.bandwidth(),\r\n          yScale(0) - yScale(getDeltaStatistic(timeseries?.[date], statistic)),\r\n          r\r\n        )\r\n      )\r\n      .attr('fill', (date, i) => {\r\n        return i < dates.length - 1\r\n          ? STATISTIC_CONFIGS[statistic].color + '90'\r\n          : STATISTIC_CONFIGS[statistic].color;\r\n      });\r\n\r\n    const textSelection = svg\r\n      .selectAll('.label')\r\n      .data(dates)\r\n      .join('text')\r\n      .attr('class', 'label')\r\n      .attr('x', (date) => xScale(date) + xScale.bandwidth() / 2)\r\n      .text((date) =>\r\n        formatNumber(getDeltaStatistic(timeseries?.[date], statistic))\r\n      );\r\n\r\n    textSelection\r\n      .transition(t)\r\n      .attr('fill', STATISTIC_CONFIGS[statistic].color)\r\n      .attr('y', (date) => {\r\n        const val = getDeltaStatistic(timeseries?.[date], statistic);\r\n        return yScale(val) + (val < 0 ? 15 : -6);\r\n      });\r\n\r\n    textSelection\r\n      .append('tspan')\r\n      .attr(\r\n        'dy',\r\n        (date) =>\r\n          `${\r\n            getDeltaStatistic(timeseries?.[date], statistic) < 0 ? 1.2 : -1.2\r\n          }em`\r\n      )\r\n      .attr('x', (date) => xScale(date) + xScale.bandwidth() / 2)\r\n      .text((date, i) => {\r\n        if (i === 0) return '';\r\n        const prevVal = getDeltaStatistic(\r\n          timeseries?.[dates[i - 1]],\r\n          statistic\r\n        );\r\n        if (!prevVal) return '';\r\n        const delta =\r\n          getDeltaStatistic(timeseries?.[date], statistic) - prevVal;\r\n        return `${delta > 0 ? '+' : ''}${formatNumber(\r\n          (100 * delta) / Math.abs(prevVal)\r\n        )}%`;\r\n      })\r\n      .transition(t)\r\n      .attr('fill', STATISTIC_CONFIGS[statistic].color + '90');\r\n  }, [dates, height, statistic, timeseries, width]);\r\n\r\n  return (\r\n    <div className=\"DeltaBarGraph\" ref={wrapperRef}>\r\n      <svg\r\n        ref={svgRef}\r\n        width={width}\r\n        height={250}\r\n        viewBox={`0 0 ${width} ${height}`}\r\n        preserveAspectRatio=\"xMidYMid meet\"\r\n      >\r\n        <g className=\"x-axis\" />\r\n        <g className=\"y-axis\" />\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst isEqual = (prevProps, currProps) => {\r\n  if (currProps.forceRender) {\r\n    return false;\r\n  } else if (!currProps.timeseries && prevProps.timeseries) {\r\n    return true;\r\n  } else if (currProps.timeseries && !prevProps.timeseries) {\r\n    return false;\r\n  } else if (!equal(prevProps.stateCode, currProps.stateCode)) {\r\n    return false;\r\n  } else if (!equal(prevProps.lookback, currProps.lookback)) {\r\n    return false;\r\n  } else if (!equal(prevProps.statistic, currProps.statistic)) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport default React.memo(DeltaBarGraph, isEqual);\r\n\r\nfunction roundedBar(x, y, w, h, r) {\r\n  r = Math.sign(h) * Math.min(Math.abs(h), r);\r\n  const paths = [\r\n    `M ${x} ${y}`,\r\n    `v ${-h + r}`,\r\n    `q 0 ${-r} ${Math.abs(r)} ${-r}`,\r\n    `h ${w - 2 * Math.abs(r)}`,\r\n    `q ${Math.abs(r)} 0 ${Math.abs(r)} ${r}`,\r\n    `v ${h - r}`,\r\n    'Z',\r\n  ];\r\n  return paths.join(' ');\r\n}\r\n","import Tooltip from './Tooltip';\r\n\r\nimport {InfoIcon} from '@primer/octicons-v2-react';\r\nimport React from 'react';\r\n\r\nfunction StateMetaCard({\r\n  title,\r\n  statistic,\r\n  total,\r\n  formula,\r\n  date,\r\n  description,\r\n  className,\r\n}) {\r\n  return (\r\n    <div className={`meta-item ${className}`}>\r\n      <div className=\"meta-item-top\">\r\n        <h3>{title}</h3>\r\n        <Tooltip {...{data: formula}}>\r\n          <InfoIcon size={16} />\r\n        </Tooltip>\r\n      </div>\r\n      <h1>{statistic}</h1>\r\n      <h5>{date}</h5>\r\n      {total && <h5>{`India has ${total} CPM`}</h5>}\r\n      <p>{description}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StateMetaCard;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Compass = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76\"\n  }));\n});\nCompass.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nCompass.displayName = 'Compass';\nexport default Compass;","import StateMetaCard from './StateMetaCard';\r\n\r\nimport {STATE_NAMES} from '../constants';\r\nimport {\r\n  formatDate,\r\n  formatNumber,\r\n  formatLastUpdated,\r\n  getStatistic,\r\n  getIndiaYesterdayISO,\r\n  parseIndiaDate,\r\n} from '../utils/commonFunctions';\r\n\r\nimport {differenceInDays} from 'date-fns';\r\nimport React from 'react';\r\nimport {Compass} from 'react-feather';\r\n\r\nfunction StateMeta({stateCode, data, timeseries}) {\r\n  const pastDates = Object.keys(timeseries || {}).filter(\r\n    (date) => date <= getIndiaYesterdayISO()\r\n  );\r\n  const lastDate = pastDates[pastDates.length - 1];\r\n  const lastConfirmed = getStatistic(\r\n    timeseries?.[lastDate],\r\n    'total',\r\n    'confirmed'\r\n  );\r\n  const prevWeekDate = pastDates\r\n    .reverse()\r\n    .find(\r\n      (date) =>\r\n        differenceInDays(parseIndiaDate(lastDate), parseIndiaDate(date)) >= 7\r\n    );\r\n  const prevWeekConfirmed = getStatistic(\r\n    timeseries?.[prevWeekDate],\r\n    'total',\r\n    'confirmed'\r\n  );\r\n  const diffDays = differenceInDays(\r\n    parseIndiaDate(lastDate),\r\n    parseIndiaDate(prevWeekDate)\r\n  );\r\n\r\n  const confirmedPerMillion = getStatistic(\r\n    data[stateCode],\r\n    'total',\r\n    'confirmed',\r\n    true\r\n  );\r\n  const testPerMillion = getStatistic(data[stateCode], 'total', 'tested', true);\r\n  const totalConfirmedPerMillion = getStatistic(\r\n    data['TT'],\r\n    'total',\r\n    'confirmed',\r\n    true\r\n  );\r\n\r\n  const activePercent = getStatistic(data[stateCode], 'total', 'activeRatio');\r\n  const recoveryPercent = getStatistic(\r\n    data[stateCode],\r\n    'total',\r\n    'recoveryRatio'\r\n  );\r\n  const deathPercent = getStatistic(data[stateCode], 'total', 'cfr');\r\n\r\n  const growthRate =\r\n    (Math.pow(lastConfirmed / prevWeekConfirmed, 1 / diffDays) - 1) * 100;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"StateMeta population\">\r\n        <div className=\"meta-item population\">\r\n          <h3>Population</h3>\r\n          <h1>{formatNumber(data[stateCode]?.meta?.population)}</h1>\r\n        </div>\r\n        <div className=\"alert\">\r\n          <Compass />\r\n          <div className=\"alert-right\">\r\n            Based on 2019 population projection by NCP{' '}\r\n            <a\r\n              href=\"https://nhm.gov.in/New_Updates_2018/Report_Population_Projection_2019.pdf\"\r\n              target=\"_noblank\"\r\n            >\r\n              report\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"StateMeta\">\r\n        <StateMetaCard\r\n          className=\"confirmed\"\r\n          title={'Confirmed Per Million'}\r\n          statistic={formatNumber(confirmedPerMillion)}\r\n          total={formatNumber(totalConfirmedPerMillion)}\r\n          formula={'(confirmed / state population) * 1 Million'}\r\n          description={`\r\n            ~${formatNumber(\r\n              Math.round(confirmedPerMillion)\r\n            )} out of every 10 lakh people in ${\r\n            STATE_NAMES[stateCode]\r\n          } have tested positive for the virus.\r\n            `}\r\n        />\r\n\r\n        <StateMetaCard\r\n          className=\"active\"\r\n          title={'Active Ratio'}\r\n          statistic={`${formatNumber(activePercent, '%')}`}\r\n          formula={'(active / confirmed) * 100'}\r\n          description={\r\n            activePercent > 0\r\n              ? `For every 100 confirmed cases, ~${formatNumber(\r\n                  Math.round(activePercent)\r\n                )} are currently infected.`\r\n              : 'Currently, there are no active cases in this state.'\r\n          }\r\n        />\r\n\r\n        <StateMetaCard\r\n          className=\"recovery\"\r\n          title={'Recovery Ratio'}\r\n          statistic={`${formatNumber(recoveryPercent, '%')}`}\r\n          formula={'(recovered / confirmed) * 100'}\r\n          description={\r\n            recoveryPercent > 0\r\n              ? `For every 100 confirmed cases, ~${formatNumber(\r\n                  Math.round(recoveryPercent)\r\n                )} have recovered from the virus.`\r\n              : 'Unfortunately, there are no recoveries in this state yet.'\r\n          }\r\n        />\r\n\r\n        <StateMetaCard\r\n          className=\"mortality\"\r\n          title={'Case Fatality Ratio'}\r\n          statistic={`${formatNumber(deathPercent, '%')}`}\r\n          formula={'(deceased / confirmed) * 100'}\r\n          description={\r\n            deathPercent > 0\r\n              ? `For every 100 confirmed cases, ~${formatNumber(\r\n                  Math.round(deathPercent)\r\n                )} have unfortunately passed away from the virus.`\r\n              : 'Fortunately, no one has passed away from the virus in this state.'\r\n          }\r\n        />\r\n\r\n        <StateMetaCard\r\n          className=\"gr\"\r\n          title={'Avg. Growth Rate'}\r\n          statistic={growthRate > 0 ? `${formatNumber(growthRate, '%')}` : '-'}\r\n          formula={\r\n            '(((previousDayData - sevenDayBeforeData) / sevenDayBeforeData) * 100)/7'\r\n          }\r\n          date={`${formatDate(prevWeekDate, 'dd MMM')} - ${formatDate(\r\n            lastDate,\r\n            'dd MMM'\r\n          )}`}\r\n          description={\r\n            growthRate > 0\r\n              ? `In the last one week, the number of new infections has\r\n              grown by an average of ${formatNumber(growthRate, '%')}\r\n              every day.`\r\n              : 'There has been no growth in the number of infections in last one week.'\r\n          }\r\n        />\r\n\r\n        <StateMetaCard\r\n          className=\"tpm\"\r\n          title={'Tests Per Million'}\r\n          statistic={`${formatNumber(testPerMillion)}`}\r\n          formula={\r\n            '(total tests in state / total population of state) * 1 Million'\r\n          }\r\n          date={\r\n            testPerMillion\r\n              ? `As of ${formatLastUpdated(\r\n                  data[stateCode]?.meta?.tested?.['last_updated']\r\n                )} ago`\r\n              : ''\r\n          }\r\n          description={\r\n            testPerMillion > 0\r\n              ? `For every 10 lakh people in ${STATE_NAMES[stateCode]},\r\n                ~${formatNumber(\r\n                  Math.round(testPerMillion)\r\n                )} samples were tested.`\r\n              : 'No tests have been conducted in this state yet.'\r\n          }\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst isEqual = (prevProps, currProps) => {\r\n  if (currProps.timeseries && !prevProps.timeseries) {\r\n    return false;\r\n  } else if (prevProps.stateCode !== currProps.stateCode) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport default React.memo(StateMeta, isEqual);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Smile = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 14s1.5 2 4 2 4-2 4-2\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"9\",\n    y1: \"9\",\n    x2: \"9.01\",\n    y2: \"9\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"15\",\n    y1: \"9\",\n    x2: \"15.01\",\n    y2: \"9\"\n  }));\n});\nSmile.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nSmile.displayName = 'Smile';\nexport default Smile;","import DeltaBarGraph from './DeltaBarGraph';\r\nimport Footer from './Footer';\r\nimport Level from './Level';\r\nimport MapSwitcher from './MapSwitcher';\r\nimport StateHeader from './StateHeader';\r\nimport StateMeta from './StateMeta';\r\n\r\nimport {API_ROOT_URL, STATE_NAMES} from '../constants';\r\nimport useIsVisible from '../hooks/useIsVisible';\r\nimport {fetcher, formatNumber, getStatistic} from '../utils/commonFunctions';\r\n\r\nimport classnames from 'classnames';\r\nimport React, {\r\n  useMemo,\r\n  useState,\r\n  useEffect,\r\n  lazy,\r\n  Suspense,\r\n  useRef,\r\n} from 'react';\r\nimport {Smile} from 'react-feather';\r\nimport {Helmet} from 'react-helmet';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {useParams} from 'react-router-dom';\r\nimport {useSessionStorage} from 'react-use';\r\nimport useSWR from 'swr';\r\n\r\nconst TimeseriesExplorer = lazy(() => import('./TimeseriesExplorer'));\r\nconst MapExplorer = lazy(() => import('./MapExplorer'));\r\nconst Minigraphs = lazy(() => import('./Minigraphs'));\r\n\r\nfunction State() {\r\n  const {t} = useTranslation();\r\n\r\n  const stateCode = useParams().stateCode.toUpperCase();\r\n\r\n  const [mapStatistic, setMapStatistic] = useSessionStorage(\r\n    'mapStatistic',\r\n    'active'\r\n  );\r\n  const [showAllDistricts, setShowAllDistricts] = useState(false);\r\n  const [regionHighlighted, setRegionHighlighted] = useState({\r\n    stateCode: stateCode,\r\n    districtName: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (regionHighlighted.stateCode !== stateCode) {\r\n      setRegionHighlighted({\r\n        stateCode: stateCode,\r\n        districtName: null,\r\n      });\r\n      setShowAllDistricts(false);\r\n    }\r\n  }, [regionHighlighted.stateCode, stateCode]);\r\n\r\n  const {data: timeseries, error: timeseriesResponseError} = useSWR(\r\n    `${API_ROOT_URL}/timeseries-${stateCode}.min.json`,\r\n    fetcher,\r\n    {\r\n      revalidateOnMount: true,\r\n      refreshInterval: 100000,\r\n    }\r\n  );\r\n\r\n  const {data} = useSWR(`${API_ROOT_URL}/data.min.json`, fetcher, {\r\n    revalidateOnMount: true,\r\n    refreshInterval: 100000,\r\n  });\r\n\r\n  const toggleShowAllDistricts = () => {\r\n    setShowAllDistricts(!showAllDistricts);\r\n  };\r\n\r\n  const handleSort = (districtNameA, districtNameB) => {\r\n    const districtA = data[stateCode].districts[districtNameA];\r\n    const districtB = data[stateCode].districts[districtNameB];\r\n    return (\r\n      getStatistic(districtB, 'total', mapStatistic) -\r\n      getStatistic(districtA, 'total', mapStatistic)\r\n    );\r\n  };\r\n\r\n  const gridRowCount = useMemo(() => {\r\n    if (!data) return;\r\n    const gridColumnCount = window.innerWidth >= 540 ? 3 : 2;\r\n    const districtCount = data[stateCode]?.districts\r\n      ? Object.keys(data[stateCode].districts).filter(\r\n          (districtName) => districtName !== 'Unknown'\r\n        ).length\r\n      : 0;\r\n    const gridRowCount = Math.ceil(districtCount / gridColumnCount);\r\n    return gridRowCount;\r\n  }, [data, stateCode]);\r\n\r\n  const stateMetaElement = useRef();\r\n  const isStateMetaVisible = useIsVisible(stateMetaElement, {once: true});\r\n\r\n  const trail = useMemo(() => {\r\n    const styles = [];\r\n\r\n    [0, 0, 0, 0].map((element, index) => {\r\n      styles.push({\r\n        animationDelay: `${index * 250}ms`,\r\n      });\r\n      return null;\r\n    });\r\n    return styles;\r\n  }, []);\r\n\r\n  const lookback = showAllDistricts ? (window.innerWidth >= 540 ? 10 : 8) : 6;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Helmet>\r\n        <title>\r\n          Coronavirus Outbreak in {STATE_NAMES[stateCode]} - covid19india.org\r\n        </title>\r\n        <meta\r\n          name=\"title\"\r\n          content={`Coronavirus Outbreak in ${STATE_NAMES[stateCode]}: Latest Map and Case Count`}\r\n        />\r\n      </Helmet>\r\n\r\n      <div className=\"State\">\r\n        <div className=\"state-left\">\r\n          <StateHeader data={data?.[stateCode]} stateCode={stateCode} />\r\n\r\n          <div style={{position: 'relative'}}>\r\n            <MapSwitcher {...{mapStatistic, setMapStatistic}} />\r\n            <Level data={data?.[stateCode]} />\r\n            <Minigraphs\r\n              timeseries={timeseries?.[stateCode]?.dates}\r\n              {...{stateCode}}\r\n              forceRender={!!timeseriesResponseError}\r\n            />\r\n          </div>\r\n\r\n          {data && (\r\n            <Suspense fallback={<div style={{minHeight: '50rem'}} />}>\r\n              <MapExplorer\r\n                {...{\r\n                  stateCode,\r\n                  data,\r\n                  regionHighlighted,\r\n                  setRegionHighlighted,\r\n                  mapStatistic,\r\n                  setMapStatistic,\r\n                }}\r\n              ></MapExplorer>\r\n            </Suspense>\r\n          )}\r\n\r\n          <span ref={stateMetaElement} />\r\n\r\n          {data && isStateMetaVisible && (\r\n            <StateMeta\r\n              {...{\r\n                stateCode,\r\n                data,\r\n              }}\r\n              timeseries={timeseries?.[stateCode]?.dates}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"state-right\">\r\n          <React.Fragment>\r\n            <div\r\n              className=\"district-bar\"\r\n              style={!showAllDistricts ? {display: 'flex'} : {}}\r\n            >\r\n              <div className=\"district-bar-top\">\r\n                <div className=\"district-bar-left\">\r\n                  <h2\r\n                    className={classnames(mapStatistic, 'fadeInUp')}\r\n                    style={trail[0]}\r\n                  >\r\n                    Top districts\r\n                  </h2>\r\n                  <div\r\n                    className={`districts fadeInUp ${\r\n                      showAllDistricts ? 'is-grid' : ''\r\n                    }`}\r\n                    style={\r\n                      showAllDistricts\r\n                        ? {\r\n                            gridTemplateRows: `repeat(${gridRowCount}, 2rem)`,\r\n                            ...trail[1],\r\n                          }\r\n                        : trail[1]\r\n                    }\r\n                  >\r\n                    {Object.keys(data?.[stateCode]?.districts || {})\r\n                      .filter((districtName) => districtName !== 'Unknown')\r\n                      .sort((a, b) => handleSort(a, b))\r\n                      .slice(0, showAllDistricts ? undefined : 5)\r\n                      .map((districtName) => {\r\n                        const total = getStatistic(\r\n                          data[stateCode].districts[districtName],\r\n                          'total',\r\n                          mapStatistic\r\n                        );\r\n                        const delta = getStatistic(\r\n                          data[stateCode].districts[districtName],\r\n                          'delta',\r\n                          mapStatistic\r\n                        );\r\n                        return (\r\n                          <div key={districtName} className=\"district\">\r\n                            <h2>{formatNumber(total)}</h2>\r\n                            <h5>{t(districtName)}</h5>\r\n                            {mapStatistic !== 'active' && (\r\n                              <div className=\"delta\">\r\n                                <h6 className={mapStatistic}>\r\n                                  {delta > 0\r\n                                    ? '\\u2191' + formatNumber(delta)\r\n                                    : ''}\r\n                                </h6>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"district-bar-right fadeInUp\" style={trail[2]}>\r\n                  {timeseries &&\r\n                    (mapStatistic === 'confirmed' ||\r\n                      mapStatistic === 'deceased') && (\r\n                      <div className=\"happy-sign\">\r\n                        {Object.keys(timeseries[stateCode]?.dates || {})\r\n                          .slice(-lookback)\r\n                          .every(\r\n                            (date) =>\r\n                              getStatistic(\r\n                                timeseries[stateCode].dates[date],\r\n                                'delta',\r\n                                mapStatistic\r\n                              ) === 0\r\n                          ) && (\r\n                          <div\r\n                            className={`alert ${\r\n                              mapStatistic === 'confirmed' ? 'is-green' : ''\r\n                            }`}\r\n                          >\r\n                            <Smile />\r\n                            <div className=\"alert-right\">\r\n                              No new {mapStatistic} cases in the past five days\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  <DeltaBarGraph\r\n                    timeseries={timeseries?.[stateCode]?.dates}\r\n                    statistic={mapStatistic}\r\n                    {...{stateCode, lookback}}\r\n                    forceRender={!!timeseriesResponseError}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"district-bar-bottom\">\r\n                {Object.keys(data?.[stateCode]?.districts || {}).length > 5 ? (\r\n                  <button\r\n                    className=\"button fadeInUp\"\r\n                    onClick={toggleShowAllDistricts}\r\n                    style={trail[3]}\r\n                  >\r\n                    <span>{showAllDistricts ? `View less` : `View all`}</span>\r\n                  </button>\r\n                ) : (\r\n                  <div style={{height: '3.75rem', flexBasis: '15%'}} />\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <Suspense fallback={<div />}>\r\n              <TimeseriesExplorer\r\n                {...{\r\n                  stateCode,\r\n                  timeseries,\r\n                  regionHighlighted,\r\n                  setRegionHighlighted,\r\n                }}\r\n                forceRender={!!timeseriesResponseError}\r\n              />\r\n            </Suspense>\r\n          </React.Fragment>\r\n        </div>\r\n      </div>\r\n\r\n      <Footer />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default React.memo(State);\r\n"],"sourceRoot":""}