{"version":3,"sources":["../node_modules/react-feather/dist/icons/search.js","../node_modules/react-feather/dist/icons/x.js","../node_modules/react-feather/dist/icons/arrow-right-circle.js","../node_modules/react-use/esm/useDebounce.js","../node_modules/react-use/esm/useTimeoutFn.js","components/Search.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Search","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","x1","y1","x2","y2","propTypes","PropTypes","string","oneOfType","number","displayName","X","ArrowRightCircle","points","useDebounce","fn","ms","deps","_a","ready","useRef","timeout","callback","isReady","useCallback","current","set","clearTimeout","setTimeout","clear","useEffect","useTimeoutFn","cancel","reset","suggestions","districtSuggestions","stateSuggestions","memo","useState","searchValue","setSearchValue","expand","setExpand","results","setResults","searchInput","t","useTranslation","engine","setEngine","districtEngine","setDistrictEngine","useUpdateEffect","then","Bloodhound","default","initialize","local","STATE_CODES_ARRAY","filter","code","UNASSIGNED_STATE_CODE","queryTokenizer","tokenizers","whitespace","datumTokenizer","obj","limit","indexRemote","remote","url","transform","response","districts","stateName","map","districtData","districtName","UNKNOWN_DISTRICT_KEY","push","district","state","handleSearch","search","datums","result","index","stateObj","name","type","route","slice","districtObj","STATE_CODES","setNativeValue","element","value","valueSetter","getOwnPropertyDescriptor","getPrototypeOf","prototypeValueSetter","produce","draftResults","splice","fillPlaceholder","cursorPosition","textContent","text","placeholder","classList","remove","clearPlaceholder","add","loopThroughSuggestions","targetInput","document","getElementsByClassName","trail","useMemo","styles","animationDelay","handleClose","handleChange","event","className","style","onFocus","bind","onBlur","onChange","onClick","to","STATE_NAMES","Fragment","suggestion","onMouseDown","preventDefault","dispatchEvent","Event","bubbles"],"mappings":"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","file":"static/js/34.9b5abed6.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Search = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"11\",\n    cy: \"11\",\n    r: \"8\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"21\",\n    y1: \"21\",\n    x2: \"16.65\",\n    y2: \"16.65\"\n  }));\n});\nSearch.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nSearch.displayName = 'Search';\nexport default Search;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar X = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"6\",\n    x2: \"6\",\n    y2: \"18\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"6\",\n    x2: \"18\",\n    y2: \"18\"\n  }));\n});\nX.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nX.displayName = 'X';\nexport default X;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ArrowRightCircle = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"12 16 16 12 12 8\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"8\",\n    y1: \"12\",\n    x2: \"16\",\n    y2: \"12\"\n  }));\n});\nArrowRightCircle.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nArrowRightCircle.displayName = 'ArrowRightCircle';\nexport default ArrowRightCircle;","import { useEffect } from 'react';\nimport useTimeoutFn from './useTimeoutFn';\nexport default function useDebounce(fn, ms, deps) {\n    if (ms === void 0) { ms = 0; }\n    if (deps === void 0) { deps = []; }\n    var _a = useTimeoutFn(fn, ms), isReady = _a[0], cancel = _a[1], reset = _a[2];\n    useEffect(reset, deps);\n    return [isReady, cancel];\n}\n","/* eslint-disable */\nimport { useCallback, useEffect, useRef } from 'react';\nexport default function useTimeoutFn(fn, ms) {\n    if (ms === void 0) { ms = 0; }\n    var ready = useRef(false);\n    var timeout = useRef();\n    var callback = useRef(fn);\n    var isReady = useCallback(function () { return ready.current; }, []);\n    var set = useCallback(function () {\n        ready.current = false;\n        timeout.current && clearTimeout(timeout.current);\n        timeout.current = setTimeout(function () {\n            ready.current = true;\n            callback.current();\n        }, ms);\n    }, [ms]);\n    var clear = useCallback(function () {\n        ready.current = null;\n        timeout.current && clearTimeout(timeout.current);\n    }, []);\n    // update ref when function changes\n    useEffect(function () {\n        callback.current = fn;\n    }, [fn]);\n    // set on mount, clear on unmount\n    useEffect(function () {\n        set();\n        return clear;\n    }, [ms]);\n    return [isReady, clear, set];\n}\n","import {\r\n  STATE_CODES_ARRAY,\r\n  STATE_CODES,\r\n  STATE_NAMES,\r\n  UNASSIGNED_STATE_CODE,\r\n  UNKNOWN_DISTRICT_KEY,\r\n} from '../constants';\r\n\r\nimport produce from 'immer';\r\nimport React, {useState, useEffect, useMemo, useCallback, useRef} from 'react';\r\nimport * as Icon from 'react-feather';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {Link} from 'react-router-dom';\r\nimport {useDebounce, useUpdateEffect} from 'react-use';\r\n\r\nconst suggestions = [\r\n  'Madurai',\r\n  'Karnataka',\r\n  'Ladakh',\r\n  'Mumbai',\r\n  'Andhra Pradesh',\r\n  'Alappuzha',\r\n];\r\n\r\nconst districtSuggestions = [\r\n  'Madurai',\r\n  'Ganjam',\r\n  'Alappuzha',\r\n  'Mumbai',\r\n  'Chennai',\r\n];\r\n\r\nconst stateSuggestions = [\r\n  'Andhra Pradesh',\r\n  'Karnataka',\r\n  'Gujarat',\r\n  'West Bengal',\r\n  'Ladakh',\r\n];\r\n\r\nfunction Search() {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [expand, setExpand] = useState(false);\r\n  const [results, setResults] = useState([]);\r\n  const searchInput = useRef(null);\r\n  const {t} = useTranslation();\r\n\r\n  const [engine, setEngine] = useState(null);\r\n  const [districtEngine, setDistrictEngine] = useState(null);\r\n\r\n  useUpdateEffect(() => {\r\n    import('corejs-typeahead').then((Bloodhound) => {\r\n      setEngine(\r\n        // eslint-disable-next-line\r\n        new Bloodhound.default({\r\n          initialize: true,\r\n          local: STATE_CODES_ARRAY.filter(\r\n            ({code}) => code !== UNASSIGNED_STATE_CODE\r\n          ),\r\n          queryTokenizer: Bloodhound.default.tokenizers.whitespace,\r\n          datumTokenizer: Bloodhound.default.tokenizers.obj.whitespace('name'),\r\n        })\r\n      );\r\n\r\n      setDistrictEngine(\r\n        // eslint-disable-next-line\r\n        new Bloodhound.default({\r\n          initialize: true,\r\n          limit: 5,\r\n          queryTokenizer: Bloodhound.default.tokenizers.whitespace,\r\n          datumTokenizer: Bloodhound.default.tokenizers.obj.whitespace(\r\n            'district'\r\n          ),\r\n          indexRemote: true,\r\n          remote: {\r\n            url: 'https://api.covid19india.org/state_district_wise.json',\r\n            transform: function (response) {\r\n              const districts = [];\r\n              Object.keys(response)\r\n                .filter((stateName) => stateName !== 'State Unassigned')\r\n                .map((stateName) => {\r\n                  const districtData = response[stateName].districtData;\r\n                  Object.keys(districtData)\r\n                    .filter(\r\n                      (districtName) => districtName !== UNKNOWN_DISTRICT_KEY\r\n                    )\r\n                    .map((districtName) => {\r\n                      return districts.push({\r\n                        district: districtName,\r\n                        state: stateName,\r\n                      });\r\n                    });\r\n                  return null;\r\n                });\r\n              return districts;\r\n            },\r\n          },\r\n        })\r\n      );\r\n    });\r\n  }, [expand]);\r\n\r\n  const handleSearch = useCallback(\r\n    (searchInput) => {\r\n      if (!engine) return null;\r\n      const results = [];\r\n\r\n      const sync = (datums) => {\r\n        datums.map((result, index) => {\r\n          const stateObj = {\r\n            name: result.name,\r\n            type: 'state',\r\n            route: result.code,\r\n          };\r\n          results.push(stateObj);\r\n          return null;\r\n        });\r\n      };\r\n\r\n      const districtSync = (datums) => {\r\n        datums.slice(0, 3).map((result, index) => {\r\n          const districtObj = {\r\n            name: result.district,\r\n            type: 'district',\r\n            route: STATE_CODES[result.state],\r\n          };\r\n          results.push(districtObj);\r\n          return null;\r\n        });\r\n\r\n        setResults([...results]);\r\n      };\r\n\r\n      engine.search(searchInput, sync);\r\n      districtEngine.search(searchInput, districtSync);\r\n    },\r\n    [districtEngine, engine]\r\n  );\r\n\r\n  useDebounce(\r\n    () => {\r\n      if (searchValue) {\r\n        handleSearch(searchValue);\r\n      } else {\r\n        setResults(\r\n          produce(results, (draftResults) => {\r\n            draftResults.splice(0);\r\n          })\r\n        );\r\n      }\r\n    },\r\n    100,\r\n    [searchValue]\r\n  );\r\n\r\n  function setNativeValue(element, value) {\r\n    const valueSetter = Object.getOwnPropertyDescriptor(element, 'value').set;\r\n    const prototype = Object.getPrototypeOf(element);\r\n    const prototypeValueSetter = Object.getOwnPropertyDescriptor(\r\n      prototype,\r\n      'value'\r\n    ).set;\r\n\r\n    if (valueSetter && valueSetter !== prototypeValueSetter) {\r\n      prototypeValueSetter.call(element, value);\r\n    } else {\r\n      valueSetter.call(element, value);\r\n    }\r\n  }\r\n\r\n  const fillPlaceholder = useCallback(\r\n    (target, index, cursorPosition, callback) => {\r\n      if (expand) {\r\n        target.textContent = '';\r\n        return true;\r\n      }\r\n      const text = t(suggestions[index]);\r\n      const placeholder = target.textContent;\r\n      target.classList.remove('disappear');\r\n      target.textContent = placeholder + text[cursorPosition];\r\n      if (cursorPosition < text.length - 1) {\r\n        setTimeout(function () {\r\n          fillPlaceholder(target, index, cursorPosition + 1, callback);\r\n        }, 200);\r\n        return true;\r\n      }\r\n      callback();\r\n    },\r\n    [expand, t]\r\n  );\r\n\r\n  const clearPlaceholder = useCallback((target, callback) => {\r\n    const placeholder = target.textContent;\r\n    target.classList.add('disappear');\r\n    if (placeholder.length > 0) {\r\n      setTimeout(function () {\r\n        target.textContent = '';\r\n        clearPlaceholder(target, callback);\r\n      }, 1000);\r\n      return true;\r\n    }\r\n    callback();\r\n  }, []);\r\n\r\n  const loopThroughSuggestions = useCallback(\r\n    (target, index) => {\r\n      if (expand) {\r\n        target.textContent = '';\r\n        return true;\r\n      }\r\n\r\n      fillPlaceholder(target, index, 0, function () {\r\n        setTimeout(function () {\r\n          clearPlaceholder(target, function () {\r\n            loopThroughSuggestions(target, (index + 1) % suggestions.length);\r\n          });\r\n        }, 2000);\r\n      });\r\n    },\r\n    [clearPlaceholder, expand, fillPlaceholder]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!expand) {\r\n      const targetInput = document.getElementsByClassName(\r\n        'search-placeholder'\r\n      )[0];\r\n\r\n      if (targetInput) {\r\n        loopThroughSuggestions(targetInput, 0);\r\n      }\r\n    }\r\n  }, [expand, loopThroughSuggestions]);\r\n\r\n  const trail = useMemo(() => {\r\n    const styles = [];\r\n\r\n    [0, 0, 0].map((element, index) => {\r\n      styles.push({\r\n        animationDelay: `${index * 250}ms`,\r\n      });\r\n      return null;\r\n    });\r\n    return styles;\r\n  }, []);\r\n\r\n  const handleClose = useCallback(() => {\r\n    setSearchValue('');\r\n    setResults([]);\r\n  }, []);\r\n\r\n  const handleChange = useCallback((event) => {\r\n    setSearchValue(event.target.value);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Search\">\r\n      <label className=\"fadeInUp\" style={trail[0]}>\r\n        {t('Search your district or state')}\r\n      </label>\r\n      <div className=\"line fadeInUp\" style={trail[1]}></div>\r\n\r\n      <div className=\"search-input-wrapper fadeInUp\" style={trail[2]}>\r\n        <input\r\n          type=\"text\"\r\n          value={searchValue}\r\n          ref={searchInput}\r\n          onFocus={setExpand.bind(this, true)}\r\n          onBlur={setExpand.bind(this, false)}\r\n          onChange={handleChange}\r\n        />\r\n\r\n        {!expand && searchValue === '' && (\r\n          <span className=\"search-placeholder\"></span>\r\n        )}\r\n\r\n        <div className={`search-button`}>\r\n          <Icon.Search />\r\n        </div>\r\n\r\n        {searchValue.length > 0 && (\r\n          <div className={`close-button`} onClick={handleClose}>\r\n            <Icon.X />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {results.length > 0 && (\r\n        <div className=\"results\">\r\n          {results.map((result, index) => (\r\n            <Link key={index} to={`state/${result.route}`}>\r\n              <div className=\"result\">\r\n                <div className=\"result-left\">\r\n                  <div className=\"result-name\">\r\n                    {`${result.name}`}\r\n                    {result.type === 'district' &&\r\n                      `, ${STATE_NAMES[result.route]}`}\r\n                  </div>\r\n                </div>\r\n                <div className=\"result-type\">\r\n                  <span>{[result.route]}</span>\r\n                  <Icon.ArrowRightCircle size={14} />\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {expand && (\r\n        <React.Fragment>\r\n          <div className=\"expanded\">\r\n            <div className=\"expanded-left\">\r\n              <h3>{t('District')}</h3>\r\n              <div className=\"suggestions\">\r\n                {districtSuggestions.map((suggestion, index) => (\r\n                  <div className=\"suggestion\" key={index}>\r\n                    <div>-</div>\r\n                    <h4\r\n                      onMouseDown={(event) => {\r\n                        event.preventDefault();\r\n                        setNativeValue(searchInput.current, suggestion);\r\n                        searchInput.current.dispatchEvent(\r\n                          new Event('input', {bubbles: true})\r\n                        );\r\n                      }}\r\n                    >\r\n                      {t(suggestion)}\r\n                    </h4>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"expanded-right\">\r\n              <h3>{t('State/UT')}</h3>\r\n              <div className=\"suggestions\">\r\n                {stateSuggestions.map((suggestion, index) => (\r\n                  <div className=\"suggestion\" key={index}>\r\n                    <div>-</div>\r\n                    <h4\r\n                      onMouseDown={(event) => {\r\n                        event.preventDefault();\r\n                        setNativeValue(searchInput.current, suggestion);\r\n                        searchInput.current.dispatchEvent(\r\n                          new Event('input', {bubbles: true})\r\n                        );\r\n                      }}\r\n                    >\r\n                      {t(suggestion)}\r\n                    </h4>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst isEqual = () => {\r\n  return true;\r\n};\r\n\r\nexport default React.memo(Search, isEqual);\r\n"],"sourceRoot":""}